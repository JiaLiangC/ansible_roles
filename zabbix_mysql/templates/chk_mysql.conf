UserParameter=mysql.version,{{ mysql_prefix }}/mysql -V

UserParameter=mysql.status[*],{{ mysql_basedir }}/bin/mysql --defaults-file={{zabbix_dir}}/etc/.my.cnf  -e "show global status" |grep "\<$1\>" |cut -f2
UserParameter=mysql.ping[*],{{ mysql_basedir }}/bin/mysqladmin --defaults-file={{zabbix_dir}}/etc/.my.cnf ping | grep -c alive
UserParameter=mysql.slave[*],{{ mysql_basedir }}/bin/mysql --defaults-file={{zabbix_dir}}/etc/.my.cnf  -e 'show slave status\G' |grep "\<$1\>" |awk '{print $NF}'

UserParameter=mysql.variables[*],echo "show global variables where Variable_name='$1';"|{{ mysql_basedir }}/bin/mysql --defaults-file={{zabbix_dir}}/etc/.my.cnf -N|awk '{print $$2}'
UserParameter=mysql.innodb[*],{{zabbix_dir}}/script/mysql_innodb_status.sh $1

# mysql master information

UserParameter=mysql.master.Slave_count,echo "show slave hosts;"|{{mysql_basedir}}/bin/mysql --defaults-file={{zabbix_dir}}/etc/.my.cnf -N|wc -l
UserParameter=mysql.master.Binlog_file,echo "show master status;"|{{mysql_basedir}}/bin/mysql --defaults-file={{zabbix_dir}}/etc/.my.cnf -N|awk '{print $1}'|awk -F. '{print $1}'
UserParameter=mysql.master.Binlog_number,echo "show master status;"|{{mysql_basedir}}/bin/mysql --defaults-file={{zabbix_dir}}/etc/.my.cnf -N|awk '{print $1}'|awk -F. '{print $2}'
UserParameter=mysql.master.Binlog_position,echo "show master status;"|{{mysql_basedir}}/bin/mysql --defaults-file={{zabbix_dir}}/etc/.my.cnf -N|awk '{print $2}'
UserParameter=mysql.master.Binlog_count,echo "show binary logs;"|{{mysql_basedir}}/bin/mysql --defaults-file={{zabbix_dir}}/etc/.my.cnf -N|wc -l
UserParameter=mysql.master.Binlog_total_size,echo "show binary logs;"|{{mysql_basedir}}/bin/mysql --defaults-file={{zabbix_dir}}/etc/.my.cnf -N|awk '{sum+=$NF}END{print  sum}'
