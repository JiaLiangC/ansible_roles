# edirtor: haifeng
# 2019/04/29

- name: create es user
  user: name={{ item.name }} state=present 
  with_items:
    - { name: '{{ es_run_user }}'}

#- name: link /data1 to /data dir
#  file: src={{ item.src }} dest={{item.dest}} owner={{ item.owner }} group={{ item.group }} mode={{ item.mode }} state={{ item.state }}
#  with_items:
#    - { src: /data1, dest: /data, owner: root, group: root, mode: "0777", state: link}

- name: create es dir
  file:
    path: "{{ item }}"
    owner: "{{ es_run_user }}"
    group: "{{ es_run_user }}"
    mode: "0755"
    state: directory
  with_items:
    #- { path: "{{app_base_dir}}", owner: root, group: root, mode: "0755", state: directory }
    - "{{es_conf_dir}}"
    - "{{es_log_dir}}"
    - "{{es_var_dir}}"
    - "{{es_data_dir}}"
