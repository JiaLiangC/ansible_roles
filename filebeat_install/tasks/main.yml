# edirtor: haifeng
# 2019/10/12

- include: create_filebeat_user.yml
  tags:
    - create_filebeat_user

- include: create_filebeat_dir.yml 
  tags:
    - create_filebeat_dir

- include: install_filebeat.yml
  tags:
    - install_filebeat

- include: copy_filebeat_conf.yml
  tags:
    - copy_filebeat_conf

- include: copy_filebeat_child_conf.yml
  when: filebeat_child_confs is not none
  tags:
    - copy_filebeat_child_conf

- include: boot_filebeat_for_supervisor.yml
  when: filebeat_boot_type == 'supervisor'
  tags:
    - boot_filebeat

- include: boot_filebeat_for_systemd.yml
  when: filebeat_boot_type == 'systemd'
  tags:
    - boot_filebeat
