- name: create etcd dir
  file: 
    path: '{{ item.path }}' 
    owner: '{{ item.owner }}' 
    group: '{{ item.group }}' 
    mode: '{{ item.mode }}' 
    state: directory
  with_items:
    - { path: "{{app_base_dir}}", owner: root, group: root, mode: "0755" }
    - { path: "{{etcd_log_dir}}", owner: '{{etcd_run_user}}', group: '{{etcd_run_user}}', mode: "0755" }
    - { path: "{{etcd_data_dir}}", owner: '{{etcd_run_user}}', group: '{{etcd_run_user}}', mode: "0755" }
    - { path: "{{etcd_data_dir}}/{{etcd_name}}.etcd", owner: '{{etcd_run_user}}', group: '{{etcd_run_user}}', mode: "0755" }
    - { path: "{{etcd_data_dir}}/wal", owner: '{{etcd_run_user}}', group: '{{etcd_run_user}}', mode: "0755" }
    - { path: "{{etcd_var_dir}}", owner: '{{etcd_run_user}}', group: '{{etcd_run_user}}', mode: "0755" }
    - { path: "{{etcd_conf_dir}}", owner: '{{etcd_run_user}}', group: '{{etcd_run_user}}', mode: "0755" }
    - { path: "{{etcd_conf_dir}}/ssl", owner: '{{etcd_run_user}}', group: '{{etcd_run_user}}', mode: "0755"}
    - { path: "{{script_deploy_dir}}", owner: 'root', group: 'root', mode: "0755"}
