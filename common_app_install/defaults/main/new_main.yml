# grep -v -E '^#|^$' main.yml |awk -F':' '{print $1":","'\''{{lookup(" "\"vars\",", "app_transfer"substr($1,4)")'\|default\(\)}}\''" }'
# 上面这条命令不完整，实在是太复杂了
app_type_name: ""
app_self_tasks_file: '{{role_path}}/tasks/apps/{{app_type_name}}/{{app_type_name}}.yml'

# 
app_install_dir: '{{lookup("vars", app_transfer_install_dir)|default(app_default_install_dir, true)}}'
app_run_user: '{{lookup("vars", app_transfer_run_user)|default(app_default_run_user, true)}}'
app_run_group: '{{lookup("vars", app_transfer_run_group)|default(app_default_run_group, true)}}'
app_run_user_is_system: '{{lookup("vars", app_transfer_run_user_is_system, default=app_default_run_user_is_system)}}'
app_base_name: '{{lookup("vars", app_transfer_base_name)|default(app_default_base_name, true)}}'
app_packet: '{{lookup("vars", app_transfer_packet)|default(app_default_)}}'
app_packet_creates: '{{lookup("vars", app_transfer_packet_creates)|default()}}'
app_packet_type: '{{lookup("vars", app_transfer_packet_type)|default(app_default_packet_type, true)}}'
app_base_dir: '{{lookup("vars", app_transfer_base_dir)|default(app_default_base_dir, true)}}'
app_log_dir: '{{lookup("vars", app_transfer_log_dir)|default(app_default_log_dir, true)}}'
app_conf_dir: '{{lookup("vars", app_transfer_conf_dir)|default(app_default_conf_dir, true)}}'
app_var_dir: '{{lookup("vars", app_transfer_var_dir)|default(app_default_var_dir, true)}}'
app_data_dir: '{{lookup("vars", app_transfer_data_dir)|default(app_default_data_dir, true)}}'
app_child_conf_dir: '{{lookup("vars", app_transfer_child_conf_dir)|default(app_default_child_conf_dir, true)}}'
app_dirs: '{{lookup("vars", app_transfer_dirs)|default(app_default_dirs, true)}}'
app_bin_dir: '{{lookup("vars", app_transfer_bin_dir)|default(app_default_bin_dir, true)}}'
#app_instance_name: '{{lookup("vars", app_transfer_instance_name)|default(app_default_instance_name, true)}}'
app_instance_name: '{{lookup("vars", app_transfer_instance_name, default=app_default_instance_name)}}'
#app_boot_type: '{{lookup("vars", app_transfer_boot_type)|default(app_default_boot_type, true)}}'
app_boot_type: '{{lookup("vars", app_transfer_boot_type, default=app_default_boot_type)}}'
#app_src_boot_file: '{{lookup("vars", app_transfer_src_boot_file)|default(app_default_src_boot_file, true)}}'
app_src_boot_file: '{{lookup("vars", app_transfer_src_boot_file, default=app_default_src_boot_file)}}'
app_run_port: '{{lookup("vars", app_transfer_run_port)|default(app_default_run_port, true)}}'
app_svc_name: '{{lookup("vars", app_transfer_svc_name)|default(app_default_svc_name, true)}}'
app_env_file: '{{lookup("vars", app_transfer_env_file, default=app_default_env_file)}}'
app_conf_files: '{{lookup("vars", app_transfer_conf_files)|default(app_default_conf_files, true)}}'
app_child_confs: '{{lookup("vars", app_transfer_child_confs, default=app_default_child_confs)}}'
app_bin_scripts: '{{lookup("vars", app_transfer_bin_scripts, default=app_default_bin_scripts)}}'
#app_self_tasks_file: '{{lookup("vars", app_transfer_self_tasks_file)|default()}}'
app_bin_script_file_handler: '{{lookup("vars", app_transfer_bin_script_file_handler)|default(app_default_bin_script_file_handler, true)}}'
app_child_conf_handler: '{{lookup("vars", app_transfer_child_conf_handler)|default(app_default_child_conf_handler, true)}}'
app_conf_file_handler: '{{lookup("vars", app_transfer_conf_file_handler)|default(app_default_conf_file_handler, true)}}'
app_svc_file_handler: '{{lookup("vars", app_transfer_svc_file_handler)|default(app_default_svc_file_handler, true)}}'
