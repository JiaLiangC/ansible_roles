
net:
# BEGIN mongodb tls
  tls:
    mode: requireTLS
    certificateKeyFile: /data/apps/config/mongodb/shard1/../ssl/mongo-server.pem
    clusterFile: /data/apps/config/mongodb/shard1/../ssl/mongo-member-kvm6.test.com.pem
    CAFile: /data/apps/config/mongodb/shard1/../ssl/mongo-root-ca.pem
# END mongodb tls
  port: 22001
  bindIp: localhost,127.0.0.1,{{ansible_default_ipv4.address}}
  bindIpAll: false
  maxIncomingConnections: 65536
  ipv6: false
  unixDomainSocket:
    enabled: true
    pathPrefix: {{mongo_var_dir}}
    filePermissions: 0700
  wireObjectCheck: true
  #compression:
  #  compressors: 
security:
  authorization: disabled
  #clusterIpSourceWhitelist:
  #  -
setParameter:
  enableLocalhostAuthBypass: false 
storage:
  dbPath: {{mongo_data_dir}}
  directoryPerDB: true 
  syncPeriodSecs: 60
  engine: wiredTiger 
  wiredTiger:
    engineConfig:
      cacheSizeGB: 5
      journalCompressor: snappy
      directoryForIndexes: false
      maxCacheOverflowFileSizeGB: 0
    collectionConfig:
      blockCompressor: snappy
    indexConfig:
      prefixCompression: true
operationProfiling:
  mode: slowOp
  slowOpThresholdMs: 100
  slowOpSampleRate: 1.0
#replication:
#  oplogSizeMB: 1024
#  replSetName: shard1
#  enableMajorityReadConcern: true
sharding:
  clusterRole: shardsvr 
  archiveMovedChunks: false 
systemLog:
  verbosity: 0
  syslogFacility: user
  path: {{mongo_log_dir}}/shard1.log
  logAppend: true
  logRotate: rename
  destination: file
  component:
    accessControl:
      verbosity: 0
    command:
      verbosity: 0
processManagement:
  fork: true
  pidFilePath: {{mongo_var_dir}}/shard1.pid
  #timeZoneInfo:  
# BEGIN mongodb replicaset
replication:
  oplogSizeMB: 1024
  replSetName: shard1
  enableMajorityReadConcern: true
# END mongodb replicaset
